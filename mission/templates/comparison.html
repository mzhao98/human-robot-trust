<!DOCTYPE html>


<html>
<head>
    <meta charset="utf-8" />
	<title>Debriefing</title>
<!--	<link rel="stylesheet" href="../static/css/task.css" type="text/css" media="screen" />-->
	<link rel="stylesheet" href="../static/css/bootstrap.min.css" type="text/css" />
	<link rel="icon" href="../static/favicon.ico" />
	<script>
            var url_string = window.location.href
            var url = new URL(url_string);
            var round_number = url.searchParams.get("round");

            var condition_number = url.searchParams.get("condition");
            var name_id = url.searchParams.get("workerId");
            var mkey = url.searchParams.get("mk");

        </script>
	<style>
		body {
			padding:5px;
			margin: 5px;
			background-color: white;
			color: black;
			font-weight: 300;
			font-size: 15pt;

		}
		html,body {padding:0;margin:0;}
        .wrap {
          font:12px Arial, san-serif;
        }
        h1.likert-header {
          padding-left:4.25%;
          margin:20px 0 0;
        }
        form .statement {
          display:block;
          font-size: 22px;
          font-weight: bold;
          padding: 30px 0 0 4.25%;
          margin-bottom:10px;
        }
        form .likert {
          list-style:none;
          width:100%;
          margin:0;
          padding:0 0 35px;
          font-size: 16px;
          display:block;
          border-bottom:2px solid #efefef;
        }
        form .likert:last-of-type {border-bottom:0;}
        form .likert:before {
          content: '';
          position:relative;
          top:11px;
          left:9.5%;
          display:block;
          background-color:#efefef;
          height:4px;
          width:78%;
        }
        form .likert li {
          display:inline-block;
          width:19%;
          text-align:center;
          vertical-align: top;
        }
        form .likert li input[type=radio] {
          display:block;
          position:relative;
          top:0;
          left:50%;
          margin-left:-6px;

        }
        form .likert li label {width:100%;}
        form .buttons {
          margin:30px 0;
          padding:0 4.25%;
          text-align:right
        }
        form .buttons button {
          padding: 5px 10px;
          background-color: #67ab49;
          border: 0;
          border-radius: 3px;
        }
        form .buttons .clear {background-color: #e9e9e9;}
        form .buttons .submit {background-color: #67ab49;}
        form .buttons .clear:hover {background-color: #ccc;}
        form .buttons .submit:hover {background-color: #14892c;}
        .slidecontainer {
            align: center;
            margin:80px;
            width: 70%;
          }

          .slider {
            -webkit-appearance: none;
            width: 70%;
            height: 25px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
          }

          .slider:hover {
            opacity: 1;
          }

          .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            background: #4CAF50;
            cursor: pointer;

          }

          .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            background: #4CAF50;
            cursor: pointer;
          }
	</style>
</head>
<body>

    <div id="container-questionnaire">
        <h1>Mission 2 of 2 Complete: Survey</h1>

        <hr />
        <div class="wrap">
          <h1 class="likert-header">PART C. Please compare the 2 navigation assistants.</h1>
          <form action="">
            <label class="statement" id="q1">1.	I think the second navigation assistant (CANA) was more helpful than the first.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_1" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_1" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_1" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_1" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_1" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_2">2.	I think the second navigation assistant (CANA) was easier to understand than the firsts.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_2" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_2" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_2" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_2" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_2" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_3">3.	I would use the first assistant (ANA) again for search-and-rescue navigation.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_3" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_3" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_3" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_3" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_3" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_4">4.	I would use the second assistant (CANA) again for search-and-rescue navigation.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_4" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_4" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_4" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_4" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_4" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_5">5.	I got confused more often with the first coach (ANA).</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_5" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_5" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_5" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_5" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_5" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_6">6.	I felt that the first coach (ANA)'s instructions were more complex than the second assistant's (CANA).</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_6" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_6" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_6" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_6" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_6" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_7">7.	I felt that the first assistant's (ANA) instructions were more basic than the second assistant's (CANA).</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_7" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_7" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_7" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_7" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_7" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_8">8.	I was more confused by the first assistant's instructions (ANA).</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_8" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_8" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_8" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_8" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_8" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_9">9. I enjoyed performing the search-and-rescue task with the second assistant more than the first.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_9" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_9" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_9" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_9" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_9" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>
          <form action="">
            <label class="statement" id="question_10" >10. I think I would’ve done better on the search-and-rescue task without either assistant's instructions.</label>
            <ul class='likert'>
              <li>
                <input type="radio" name="likert_10" value="strong_disagree">
                <label>Strongly Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_10" value="disagree">
                <label>Disagree</label>
              </li>
              <li>
                <input type="radio" name="likert_10" value="neutral">
                <label>Neutral</label>
              </li>
              <li>
                <input type="radio" name="likert_10" value="agree">
                <label>Agree</label>
              </li>
              <li>
                <input type="radio" name="likert_10" value="strong_agree">
                <label>Strongly Agree</label>
              </li>
            </ul>
          </form>

        </div>




      <hr />


    </div>
    <button type="button" id="next" value="next" class="btn btn-primary btn-lg continue" onClick="onNext();" style="margin:100px">
      Next <span class="glyphicon glyphicon-arrow-right"></span>
    </button>
</body>
<script>

      function writeData(data){
        const dataOptions = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        };
        fetch('/record_survey', dataOptions);
      }

      //var x = document.getElementById("likert_10").value+"";
      //var radios = document.getElementsByName('likert_10');

      //var likert = $('input[name="likert_10"]:checked').val();



      function recordData() {
          var flag_not_finished = false;
          var likert = "";
          var radios = document.getElementsByName('likert_1');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData1 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"1. I think the second navigation assistant (CANA) was more helpful than the first (ANA).", "response":likert};
          writeData(overData1);

          likert = "";
          var radios = document.getElementsByName('likert_2');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData2 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"2. I think the second navigation assistant (CANA) was easier to understand than the first (ANA).", "response":likert};
          writeData(overData2);

          likert = "";
          var radios = document.getElementsByName('likert_3');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData3 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"3. I would use the first assistant (ANA) again for search-and-rescue navigation.", "response":likert};
          writeData(overData3);

          likert = "";
          var radios = document.getElementsByName('likert_4');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData4 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"4. I would use the second assistant (CANA) again for search-and-rescue navigation.", "response":likert};
          writeData(overData4);

          likert = "";
          var radios = document.getElementsByName('likert_5');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData5 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"5. I got confused more often with the first coach (ANA).", "response":likert};
          writeData(overData5);

          likert = "";
          var radios = document.getElementsByName('likert_6');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData6 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"6. I felt that the first coach (ANA)'s instructions were more complex than the second assistant's (CANA).", "response":likert};
          writeData(overData6);

          likert = "";
          var radios = document.getElementsByName('likert_7');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData7 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"7. I felt that the first assistant's (ANA) instructions were more basic than the second assistant's (CANA).", "response":likert};
          writeData(overData7);

          likert = "";
          var radios = document.getElementsByName('likert_8');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData8 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"8. I was more confused by the first assistant's instructions (ANA).", "response":likert};
          writeData(overData8);

          likert = "";
          var radios = document.getElementsByName('likert_9');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert = radios[i].value;
              break;
            }
          }
          var overData9 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey,
            "question":"9. I enjoyed performing the search-and-rescue task with the second assistant more than the first.", "response":likert};
          writeData(overData9);

          likert10 = "";
          var radios = document.getElementsByName('likert_10');
          for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
              likert10 = radios[i].value;
              break;
            }
          }
          var overData10 = {"userid": name_id, "episode":round_number, "condition":condition_number,
            "player_score":0, "quiz_score":0, "survey_key":""+mkey, "question":"10. I think I would’ve done better on the search-and-rescue task without either assistant's instructions.", "response":likert10};
          writeData(overData10);

      }

      function onNext(){
        var flag_not_finished = false;
        var likert = "";
        var radios = document.getElementsByName('likert_1');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_2');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_3');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_4');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_5');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_6');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_7');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_8');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_9');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}

        likert = "";
        var radios = document.getElementsByName('likert_10');
        for (var i = 0, length = radios.length; i < length; i++) {
          if (radios[i].checked) {
            likert = radios[i].value;
            break;
          }
        }
        if (likert == ""){flag_not_finished=true;}


        if (flag_not_finished==true){
          alert("Fill in all survey questions");
        }
        else {
          recordData();
          window.location.href = '/opinions?round='+round_number +'&condition='+condition_number + '&workerId='+name_id + '&mk='+mkey;
         }
      }


    </script>

</html>
