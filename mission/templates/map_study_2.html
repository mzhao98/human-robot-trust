<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
        <link rel="stylesheet" href="../static/css/bootstrap.min.css" type="text/css" />
        <link rel="icon" href="../static/favicon.ico" />
        <!-- <img src="assets/map_labelled.png" style="width:600px;height:300px;"> -->
<!--        <h1>Study ID: {{ id }}</h1>-->
        <h2 id='interactive_title'> Your Task: Memorize the building map.</h2>
        <p> <strong style="font-size: 28px;"><br> Directions: Memorize the names of all of the rooms in the building.
            You have until the timer ends to memorize.</strong> <br></p>
        <p style="font-size: 24px;"> If you are confident that you have
            completely memorized all room names before the timer ends, click "Done Studying" to proceed. Otherwise,
            the page will automatically redirect once the timer ends.<br><br></p>
        <h2 id="timer">TIME REMAINING: 60 seconds</h2>
        <img src="../static/assets/map2_labeled.png" style="width:1000px;">
<!--        <h3 id='interactive_title'> The map below is interactive and designed to help you help you memorize.-->
<!--            Identify the room name and hover of the room region to get the room name and check your knowledge.</h3>-->
<!--        <div id='content'> Room name will appear here.</div>-->
<!--&lt;!&ndash;        <img src="../static/assets/map_pic.png" usemap="#image-map" class="map">&ndash;&gt;-->
<!--        &lt;!&ndash; Image Map Generated by http://www.image-map.net/ &ndash;&gt;-->
<!--        <img src="../static/assets/map2_resized.png" usemap="#image-map" class="map">-->

        <!-- Image Map Generated by http://www.image-map.net/ -->
<!--        <map name="image-map">-->
<!--            <area class="region" target="_top" alt="President Kay's Office" title="President Kay's Office" href="" coords="8,9,66,116" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 202" title="Room 202" href="" coords="7,122,66,186" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 201" title="Room 201" href="" coords="9,196,65,256" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 200" title="Room 200" href="" coords="5,262,64,311" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 203" title="Room 203" href="" coords="72,9,122,49" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 204" title="Room 204" href="" coords="129,9,185,47" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 205" title="Room 205" href="" coords="191,9,241,47" shape="rect">-->
<!--            <area class="region" target="_top" alt="Corporate Suite 1" title="Corporate Suite 1" href="" coords="246,9,324,49" shape="rect">-->
<!--            <area class="region" target="_top" alt="Corporate Suite 2" title="Corporate Suite 2" href="" coords="330,8,413,48" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 206" title="Room 206" href="" coords="417,10,470,49" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 207" title="Room 207" href="" coords="475,10,528,48" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 208" title="Room 208" href="" coords="531,10,584,47" shape="rect">-->
<!--            <area class="region" target="_top" alt="Upper Corridor" title="Upper Corridor" href="" coords="70,52,582,78" shape="rect">-->
<!--            <area class="region" target="_top" alt="Left Hallway" title="Left Hallway" href="" coords="72,79,105,311" shape="rect">-->
<!--            <area class="region" target="_top" alt="The Chemistry Lab" title="The Chemistry Lab" href="" coords="109,82,216,219" shape="rect">-->
<!--            <area class="region" target="_top" alt="Women's Room" title="Women's Room" href="" coords="108,228,159,281" shape="rect">-->
<!--            <area class="region" target="_top" alt="Men's Room" title="Men's Room" href="" coords="166,229,218,284" shape="rect">-->
<!--            <area class="region" target="_top" alt="Middle Hallway" title="Middle Hallway" href="" coords="222,79,255,284" shape="rect">-->
<!--            <area class="region" target="_top" alt="Lower Corridor" title="Lower Corridor" href="" coords="105,284,582,313" shape="rect">-->
<!--            <area class="region" target="_top" alt="Carnegie Conference Room" title="Carnegie Conference Room" href="" coords="260,83,337,175" shape="rect">-->
<!--            <area class="region" target="_top" alt="Michelin Conference Room" title="Michelin Conference Room" href="" coords="260,184,340,248" shape="rect">-->
<!--            <area class="region" target="_top" alt="Backstage Room" title="Backstage Room" href="" coords="261,249,339,281" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 209" title="Room 209" href="" coords="345,83,395,143" shape="rect">-->
<!--            <area class="region" target="_top" alt="Room 210" title="Room 210" href="" coords="381,178,426,211" shape="rect">-->
<!--            <area class="region" target="_top" alt="Technology Nook" title="Technology Nook" href="" coords="380,217,448,280" shape="rect">-->
<!--            <area class="region" target="_top" alt="Creativity Nook" title="Creativity Nook" href="" coords="456,218,527,280" shape="rect">-->
<!--            <area class="region" target="_top" alt="Right Hallway" title="Right Hallway" href="" coords="530,79,584,284" shape="rect">-->
<!--            <area class="region" target="_top" alt="Taylor Auditorium" title="Taylor Auditorium" href="" coords="431,85,430,173,445,174,446,166,456,168,458,160,471,163,472,154,490,155,491,163,505,163,503,171,516,170,516,176,528,177,528,84" shape="poly">-->
<!--            <area class="region" target="_top" alt="Zigzag Hallway" title="Zigzag Hallway" href="" coords="340,283,342,149,398,145,396,78,430,79,428,173,378,172,376,283" shape="poly">-->
<!--            <area class="region" target="_top" alt="Taylor Sound Room" title="Taylor Sound Room" href="" coords="430,209,429,177,450,177,449,168,458,169,459,160,473,161,473,152,489,154,491,163,501,165,501,171,516,171,516,178,524,178,526,211" shape="poly">-->
<!--        </map>-->
        <script>
            var url_string = window.location.href
            var url = new URL(url_string);
            var round_number = url.searchParams.get("round");

            var condition_number = url.searchParams.get("condition");
            var name_id = url.searchParams.get("workerId");
            var time_to_memorize = 1;
            var count=60;
            if (condition_number != 1){
                time_to_memorize = 5;
                count=300;
                document.getElementById("interactive_title").innerHTML="Your Task: Memorize the building map. You have 5 minutes.";
                document.getElementById("timer").innerHTML="TIME REMAINING: 300 seconds";
            }
            else{
                document.getElementById("interactive_title").innerHTML="Your Task: Memorize the building map. You have 1 minute.";
                document.getElementById("timer").innerHTML="TIME REMAINING: 60 seconds";
            }
            function onNext() {
                window.location.href = '/quiz_2?round='+round_number +'&condition='+condition_number + '&workerId='+name_id;
            }
        </script>
        <style>
            body {
                padding:5px;
                margin: 5px;
                margin-left:25px;
                background-color: white;
                color: black;
                font-weight: 300;
                font-size: 15pt;

            }
        </style>
    </head>
    <body>
        <br>
        <button type="button" class="btn btn-primary btn-lg" onClick="onNext();">
          Done Studying (Click only if 100% confident. Page will automatically redirect.)
        </button>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/maphilight/1.4.0/jquery.maphilight.min.js"></script>
        
        <script>
            $(function() {
                $('.map').maphilight();
            });
            $(".region").on("click", function(event){
                event.preventDefault();
                // alert(event.currentTarget.title);
                document.getElementById("content").innerHTML = event.currentTarget.title;
            });
            // MAP TIMER


            var counter=setInterval(timer, 1000); //1000 will  run it every 1 second

            function timer()
            {
            count=count-1;
            if (count <= 0)
            {
                clearInterval(counter);
                //counter ended, do something here
                //window.location.href = '/quiz/1';
                onNext();
                return;
            }

            //Do code for showing the number of seconds here'
            document.getElementById("timer").innerHTML= "TIME REMAINING: " +count + " seconds"; // watch for spelling
            }

            window.onload=function(){
                if (condition_number != 1){
                    window.setTimeout(function() { document.quiz_form.submit(); }, 300000);
                }
                else{
                    window.setTimeout(function() { document.quiz_form.submit(); }, 60000);
                }
            };
        </script>
    </body>

</html>

